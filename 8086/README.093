***경고***경고***경고***경고***경고***경고***경고***경고***경고***

꾸러미 안의 MSDOS.F와 이것을 포함한 SAVE.EXE와 SAVE2.EXE를 쓸 때는 
조심하십시오. 지금까지 발표한 꾸러미의 실행 파일들은 PC의 
메모리에서만 작업하고 디스크에는 읽어들이는 것 외에는 아무 영향을 
미칠 수 없었읍니다. 그러나 이 꾸러미에 포함된 MSDOS.F에서 정의한 
파일 낱말들을 쓰면 디스크의 파일들을 지우거나 이름을 바꿀 수 
있읍니다. 아무리 비상식적인 일이더라도 컴퓨터에게 (특히 포스 
시스템에게) 시키면 바로 실행합니다. 그리고 MSDOS.F는 아직 충분히 
시험되지 않았읍니다. MSDOS.F의 낱말들이 표준 포스에서 정의한 
행동만을 하더라도 사용자가 후회할 일이 발생할 수 있고 MSDOS.F의 
낱말들이 표준 포스에서 정의한 대로 행동하지 않을 수도 있읍니다. 
이것은 아직 베타판이라는 것을 명심하십시오. 

***경고***경고***경고***경고***경고***경고***경고***경고***경고***

hForth 0.9.3판입니다. hForth는 무료 프로그램(free software)입니다. 
이것을 개인적으로나 상업적으로나 어떤 목적에 사용해도 좋습니다. 단, 
이 프로그램만을 팔아서는 안되고 (hForth를 써서 만든 프로그램을 파는 
것은 제가 상관하지 않습니다) hForth라는 이름을 쓰려면 꾸러미의 
파일들이 본래 상태로 있어야 합니다. 가능한 한 hForth를 널리 
퍼뜨려주십시오.

hForth에는 어셈블리 바탕본이 3 개 들어 있읍니다. HF86ROM.COM은 
ANSEF86.COM처럼 RAM과 ROM가 다른 주소에 있는 시스템에서 쓰이도록 
만들었읍니다. HF86RAM.COM은 HF86RAM을 고쳐 RAM만을 쓰는 시스템 
용으로 만들었읍니다. HF86EXE.EXE는 8086에서 코드와 자료를 다른 
세그먼트에 넣고 여러 낱말을 기계어로 정의했읍니다. HF86EXE.EXE는 
이렇게 해서 HF86ROM.COM과 HF86RAM.COM에 비해 두 배의 메모리를 쓸 수 
있고 속도도 두 배 이상 빨라졌읍니다. 각 어셈블리어 바탕본의 첫 
머리에 각 바탕본들이 어떻게 다른지를 적어 두었읍니다. 한두 개의 
어셈블리어 낱말를 더한 것 말고는 똑같은 어셈블리어 낱말들을써서 
HF86ROM에서 HF86RAM과 HF86EXE를 만들어 내었읍니다. 기계어로 정의한 
낱말만을 바꾸어서 Z80에 hForth를 심었고 조만간 8051 용 hForth도 
발표할 것입니다.

이 꾸러미에는 아래 파일들이 들어 있읍니다.

HF86ROM.ASM     IBM-PC 용 hForth 8086 ROM 모델의 TASM 바탕본.
HF86RAM.ASM     IBM-PC 용 hForth 8086 RAM 모델의 TASM 바탕본.
HF86EXE.ASM     IBM-PC 용 hForth 8086 EXE 모델의 TASM 바탕본.
HF86ROM.COM     hForth 8086 ROM 모델의 실행 파일.
HF86RAM.COM     hForth 8086 RAM 모델의 실행 파일.
HF86EXE.EXE     hForth 8086 EXE 모델의 실행 파일.
SAVE.EXE        OPTIONAL.F와 ASM8086.F와 MSDOS.F를 더한 HF86EXE.EXE
SAVE2.EXE       MULTI.F와 HIOMULTI.F를 더한 SAVE.EXE
OPTIONAL.F      선택 낱말(OPTIONAL wordset words)들의 포스 바탕본.
ASM8086.F       8086 어셈블러 포스 바탕본.
ASMTEST.F       8086 어셈블러를 시험하기 위한 포스 바탕본.
MULTI.F         Bill Muench의 다중작업기(multitasker)의 포스 바탕본.
MULDEMO.F       다중 작업기를 시험하기 위한 간단한 포스 바탕본.
HIOMULTI.F      다중작업기를 쓰는 한글입출력 포스 바탕본.
MSDOS.F         DOS 함수를 써서 정의한 FILE 낱말과 BLOCK 낱말들.
BLOCKS.BLK      BLOCK 낱말이 사용하는 갈무리 장소.
README.090      hForth 0.9.0 꾸러미의 README.TXT.
README.092      hForth 0.9.2 꾸러미의 README.TXT.
README.TXT      이 파일.

각 실행 파일들은 아래 방법으로 만들었읍니다.

>TASM /ml HF86ROM
>TLINK /t HF86ROM or TLINK /t HF86RAM or TLINK HF86EXE

앤시 표준 포스의 CORE 낱말들은 모두 어셈블리어 바탕본에 
들어있읍니다. 완전한 TOOLS 낱말과 SEARCH ORDER 낱말과 SEARCH ORDER 
EXTENSION 낱말들과 다른 쓸모있는 낱말들은 OPTIONAL.F에 들어있읍니다. 

어셈블리 바탕본은 hForth 0.9.2 판과 달라진 것이 거의 없읍니다. 
MS-DOS 함수를 써서 FILE 낱말과 BLOCK 낱말을 정의한 MSDOS.F가 더해진 
것이 가장 큰 변화입니다. 전에는 낱말을 더한 후 도스의 DEBUG 명령으로 
*.COM 파일만을 갈무리할 수 있었지만 이제 HF86EXE.EXE에 낱말들 더한 
것도 갈무리 할 수 있읍니다. 꾸러미 안의 SAVE.EXE는 HF86EXE.EXE를 
시작한 다음 아래처럼 해서 마련한 것입니다.

    << OPTIONAL.F
    << ASM8086.F
    << MSDOS.F
    SAVE-SYSTEM-AS  SAVE.EXE

시작하면 바로 그래픽 화면에 영문 알파벳과 한글을 보이는 SAVE2.EXE는 
SAVE.EXE를 시작한 다음 아래처럼 해서 마련한 것입니다.

    BL PARSE MULTI.F    INCLUDED
    BL PARSE HIOMULTI.F INCLUDED
    SAVE-SYSTEM-AS  SAVE2.EXE

바로 위에서 보신 것처럼 이제 '<<'를 쓰지 않고 표준 포스의 FILE 
낱말인 INCLUDED를 써서 포스 바탕본을 읽어 들일 수 있읍니다. 
MSDOS.F를 올리신 후에는 '<<'를 쓰지 마십시오. 예상하지 못한 문제들이 
생길 수 있읍니다. MSDOS.F는 아직 충분히 시험되지 않았읍니다. 문제를 
발견하면 제게 알려 주십시오.

HIOMULTI.F도 두 배 이상 빨라졌읍니다. 이제는 더 고칠 곳이 없다고 
생각합니다. 

hForth는 1990 년에 Bill Muench와 Dr. C. H. Ting이 발표한 
eForth를바탕으로 만들어서 본래의 eForth의 특징들을 그대로 
살렸읍니다. 아래는 8086 eForth 바탕본에서 따 온 것입니다.

    > 각각의 마이크로프로세서에 맞춘 몇 안되는 CODE 낱말들과 모든
    >     마이크로프로세서에 공통인 고급 (high level) 낱말들로
    > 이루어져 있읍니다.
    > 원시코드는 MASM 어셈블러용입니다.
    > 직접 꿴 (direct threaded) 방법을 씁니다.
    > 사전의 코드와 이름이 메모리에 따로 자리합니다.
    > 입출력은 가리킴 낱말을 통하고 주 컴퓨터(host computer)를
    >     단말기와 파일 입출력에 이용합니다.
    > 제안된 미국 표준 포스(ANS Forth)의 방향을 따랐읍니다.
    > 특정한 마이크로프로세서에 맞추어 최적화하기가 쉽습니다.

이것들은 그대로 hForth의 성질입니다. 그리고 hForth 는 앤시 표준 
포스의 방향만을 따르는 것이 아니라 앤시 표준 포스의 요구 조건을 
모두만족하는 앤시 표준 포스 시스템입니다.

아직도 설명이 너무나 부족합니다. 낱말들을 더하는 데 바빠 사용 
설명서를 준비할 겨를이 없었읍니다. 그래도 파일 낱말들을 더해서 제가 
생각했던 모습에 많이 가까와졌읍니다. 이제 한글 출력 그래픽 화면에 
로고(LOGO)의 거북 그림(Turtle Graphics)을 넣으면 계획했던 대로 XT 
컴퓨터로 우리말을 써서 프로그래밍을 배울 수 있는 포스 시스템이 
완성될 것입니다. 그리고 나서 사용 설명서를 준비하겠읍니다. 
답답하시더라도 참고 기다려 주십시오. 

여러 분의 의견, 제안, 비평을 들려 주십시오. 도움을 주실 수 있다면 
더욱 좋습니다.

1995. 10. 7.

고원용
하이텔: wykoh
인터넷: wykoh@pado.krict.re.kr

